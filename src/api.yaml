openapi: 3.0.3
info:
  title: AvanChange API
  x-logo:
	url: avanchange.com/uploads/images/logo-api.png
  description: >

	## Introduction

	Welcome to [AvanChange](https://avanchange.com) Exchange API and developer
	documentation. This page contains the documentation on how to use AvanChange
	through API calls. To get started, create or login into your existing
	[avanchange.com](https://avanchange.com) account. Go to the **My Account**
	&raquo; **API** section to get your **API Key** & **Secret.** 

	## Endpoints and Responses

	The Content-Type for `POST`, `PUT` requests can be set to `application/json`
	to the request to get the JSON response. Most API endpoints provide the same
	content as their HTML counterparts. Sending requests with the Accept header
	is necessary.

	## Authentication

	Some endpoints do not require any authentication, pretty much anything else
	will require you to be authenticated. To become authenticated you will need
	to create an `X-API-Token` using your API Key and API Secret.


	Once you have your API Token you can pass it as an HTTP header like this:

	```

	curl -X GET "https://api.avanchange.com/v1/endpoint/" \

	-H "X-API-TOKEN: NbtXgMr2bowsXaFQ39XqCA=="

	```

	and this is how POST requests will look:

	```

	curl -X POST "https://api.avanchange.com/v1/endpoint/" \

	-H "Content-Type: application/json;" \

	-H "X-API-TOKEN: NbtXgMr2bowsXaFQ39XqCA=="

	```

	## Create API Token

	To create your API Token you must encode your API Key with API Secret using
	<a href="https://en.wikipedia.org/wiki/Padding_(cryptography)"
	target="_blank">**AES-128-ECB-PKCS5Padding**</a> and encrypting result in
	Base64 encoding.


	Below code used to calculate value for API Token. Also, you can <a href="#" target="_blank">download as file</a>.
	
	```
	
	// Stable version [PHP 5 >= 5.3.0, PHP 7, PHP 8]

	function encrypt_apikey($api_key, $api_secret) {
	  $alg = 'AES-128-ECB';
	  $ivsize = openssl_cipher_iv_length($alg);
	  $iv = openssl_random_pseudo_bytes($ivsize);
	  $encrypted = openssl_encrypt($api_key, $alg, $api_secret, OPENSSL_RAW_DATA, $iv);
	  $encrypted = base64_encode($encrypted);
	  return $encrypted;
	}
	
	```
	
	
  version: '1.0'
components:
  headers:
	X-RateLimit-Limit:
	  description: Request limit per hour
	  schema:
		type: integer
	  example: 100
	X-RateLimit-Remaining:
	  description: Remaining requests for the hour
	  schema:
		type: integer
	  example: 100
  securitySchemes:
	APITokenAuth:
	  type: apiKey
	  in: header
	  name: X-API-TOKEN
servers:
  - url: 'https://api.avanchange.com/v1'
  - url: 'https://avanchange.com/api/v1'
paths:
  /exchange/currencies/:
	summary: Currencies
	description: Get all payment methods codes with human friendly names
	get:
	  summary: Currency codes
	  description: Get all available currency codes with human friendly names
	  operationId: exchange-currencies
	  responses:
		'200':
		  description: Success
		  content:
			application/json:
			  examples:
				List of codes:
				  value: |-
					{
					  "BTC": "Bitcoin",
					  "ETH": "Ethereum",
					  "XMR": "Monero (XMR)",
					  "TUSD": "TrueUSD (TUSD)",
					  "QWRUB": "Qiwi (RUB)",
					  "others": "...",
					}
	  tags:
		- Exchange
  /exchange/rates/:
	summary: Rates
	description: Actions with exchange rates and etc
	get:
	  summary: Rates
	  description: Get all exchange directions rates
	  operationId: exchange-rates
	  responses:
		'200':
		  description: Success
		  content:
			application/json:
			  examples:
				Short example:
				  value: |-
					{
					  "from": "BTC",
					  "from_title": "Bitcoin",
					  "to": "QWRUB",
					  "to_title": "QIWI (RUB)",
					  "rate": "1709159.47",
					  "reserve": "500000",
					  "min": "5000",
					  "max": "45000"
					},
					{
					  "from": "BTC",
					  "from_title": "Bitcoin",
					  "to": "YMRUB",
					  "to_title": "Яндекс Деньги",
					  "rate": "1712010.37",
					  "reserve": "500000",
					  "min": "1000",
					  "max": "45000"
					}
	  tags:
		- Exchange
  '/exchange/rate/{symbol}/':
	summary: Rate
	description: Get rate for selected direction
	get:
	  summary: Single Rate
	  description: Get rate for selected direction
	  operationId: exchange-rate
	  parameters:
		- name: symbol
		  in: path
		  required: true
		  example: BTC-ETH
		  description: >-
			Exchange direction with currency codes, separated by a dash. <a
			href="#">List of currencies codes</a>
		  schema:
			type: string
			pattern: '^[A-Z]{3,8}-[A-Z]{3,8}$'
			minLength: 7
	  responses:
		'200':
		  description: Success
		  content:
			application/json:
			  examples:
				BTC to ETH rate:
				  value: |-
					{
					  "from": "BTC",
					  "from_title": "Bitcoin",
					  "to": "ETH",
					  "to_title": "Ethereum",
					  "rate": "35.38",
					  "reserve": "5000",
					  "min": "0.001",
					  "max": "3"
					}
	  tags:
		- Exchange
  /account/info/:
	summary: Account info
	description: Get account info
	get:
	  security:
		- APITokenAuth: []
	  summary: Get account info
	  description: Retrieve a short data of personal account.
	  operationId: account-info
	  responses:
		'200':
		  description: Success
		  content:
			application/json:
			  examples:
				John Doe:
				  value: |-
					{
					  "login": "john.doe",
					  "email": "john.doe@gmail.com",
					  "points": 3570,
					  "level": 5,
					  "registered": 1552124074,
					  "last_visit": 1558205323,
					  "api_status": 1,
					  "account_status": 1
					}
	  tags:
		- Account
  /account/balance/:
	summary: Account balance
	description: Get account balances
	get:
	  security:
		- APITokenAuth: []
	  summary: Get account balance
	  description: Retrieve personal account balances
	  operationId: account-balance
	  responses:
		'200':
		  description: Success
		  content:
			application/json:
			  examples:
				Balances:
				  value: |-
					{
					  "balance_acbtc": 0.285600,
					  "balance_acbtc_max": 2.000000
					}
	  tags:
		- Account
tags:
  - name: Account
	description: actions with personal account
  - name: Exchange
	description: actions with rates
  - name: Orders
	description: actions with orders
